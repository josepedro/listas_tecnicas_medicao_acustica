%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Package for highlighting Numbers, Matlab, Fortran, Latex and LabView codes
%% Will D. Fonseca - rev. 04/11/2013
%% willdfonseca@yahoo.com.br
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Referencing codes
\newcommand{\code}[1]{Code~\ref{#1}\xspace}
\newcommand{\Code}[1]{Code~\ref{#1}\xspace}
\newcommand{\codes}[1]{Codes~\ref{#1}\xspace}
\newcommand{\Codes}[1]{Codes~\ref{#1}\xspace}

%% For Portuguese
\newcommand{\codigo}[1]{Código~\ref{#1}\xspace}
\newcommand{\Codigo}[1]{Código~\ref{#1}\xspace}
\newcommand{\codigos}[1]{Códigos~\ref{#1}\xspace}
\newcommand{\Codigos}[1]{Códigos~\ref{#1}\xspace}

%%%%%%%%%%%%%% Escrever em Corrier New
\newcommand{\ttp}[1]{\fontfamily{ptm}\selectfont #1\normalfont} % Uso \ttp{}
\newcommand{\ttsf}[1]{{\sffamily #1}}
\newcommand{\tbs}{\textbackslash} % Barra invertida
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Base package behind this one
\RequirePackage{listings}

%% Correct to 'Codes'
%\renewcommand*{\lstlistlistingname}{List of Codes}
%\renewcommand*\lstlistingname{Code}
\renewcommand*{\lstlistlistingname}{Lista de Códigos}
\renewcommand*\lstlistingname{Código}

%%%%%%%%%%%%%% Input em codigos
\newcommand{\inputcode}[4]{\lstinputlisting[style=#1, caption=#2, label=#3]{#4}}
%\lstinputlisting[style=Fortran, caption=CylinderPnDLL.f90, label=CylinderPnDLL.f90]{Fortran/codes/CylinderPnDLL.f90}

%%%%%%%%%%%%%% Adicionar termos

\newcommand{\inclword}[4]{\lstinputlisting[style=#1, caption=#2, label=#3]{#4}}



% Load is absent %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Check if color command exists
\ifx\color\undefined%
  \RequirePackage{xcolor}%
\fi

% Check if textcomp has been loaded (this package is needed for
% upright quotes '' (instead of typographic ones)...
\ifx\textquotesingle\undefined% 
  \RequirePackage{textcomp}%
\fi

% To use the symbols of arrows in the line breaks
\ifx\rhookswarrow\undefined% 
	\RequirePackage{MnSymbol}
\fi

% For LabView image codes
\RequirePackage{float}
\RequirePackage{subfig}
\RequirePackage{caption}

% For nice tables
\RequirePackage{booktabs}
% Color in the tables
\RequirePackage{colortbl}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% default font
%\def\lstbasicfont{\fontfamily{pcr}\selectfont\footnotesize}			% Basic font
\def\lstbasicfont{\fontfamily{pcr}\fontsize{7}{8.6}\selectfont}		% Smaller basic font

% default comment font %% To use inside Fortran or Matlab comment
\def\commentfont{\color[rgb]{.133,.545,.133}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Frame border color 
\definecolor{framecolor}{RGB}{226,215,255}	
% Colors for tables
\definecolor{dataclr}{RGB}{188,218,255}
\definecolor{inputclr}{RGB}{188,255,202}
\definecolor{outputclr}{RGB}{255,208,157}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Configurations for Matlab
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinelanguage{WMatlab}{%
  alsoletter={...},%
  morekeywords={%																	% keywords
  break,case,catch,continue,elseif,else,end,for,function,global,%
  if,otherwise,persistent,return,latex,switch,try,while,...},%
  comment=[l]\%,																	% comments
  morecomment=[l]...,															% comments
  morecomment=[s]{\%\{}{\%\}},										% block comments
  morestring=[m]'																	% strings 
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinestyle{Matlab}
	{language=WMatlab,															% use our version of highlighting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	basicstyle=\lstbasicfont,                       % basic font 
	 keywordstyle=\color[rgb]{0,0,1},						  	% keywords
	 commentstyle=\commentfont,	 										% comments
	 stringstyle=\color[rgb]{0.627,0.126,0.941},    % strings
	 identifierstyle=\color{black},									% text
	showstringspaces=false,													% do not emphasize spaces in strings
	tabsize=4,																			% number of spaces of a TAB
	upquote=true,																		% upright quotes
	numbers=left,
	aboveskip={0.05\baselineskip},									% space above
	columns=fixed,																	% nice spacing
	breaklines=true, 																												% For breaking lines
	 prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rhookswarrow}},					% For breaking lines
	 postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rcurvearrowse\space}},	% For breaking lines
	 breakatwhitespace=false,																								% For breaking lines
	% the following is for replacing some matlab relations like >= or ~=
	% by the corresponding LaTeX symbols, which are much easier to read ...
		literate=%
			{~}{{$\neg$}}1 %               \neg
			{<=}{{\tiny$\leq$}}1 %         \leq
			{>=}{{\tiny$\geq$}}1 %         \geq
			{~=}{{\tiny$\neq$}}1 %         \neq
			{delta}{{\tiny$\Delta$}}1 %    \Delta
			{(end)}{\lstbasicfont (end)}{5} % black ``end'' when indexing last vector element
			{({ }end)}{\lstbasicfont ({ }end)}{6}
			{(end{ })}{\lstbasicfont (end{ })}{6}
			{({ }end{ })}{\lstbasicfont ({ }end{ })}{7}
			{:end}{\lstbasicfont :end}{4}
			{:{ }end}{\lstbasicfont :{ }end}{5}
			{end:}{\lstbasicfont end:}{4}
			{end{ }:}{\lstbasicfont end{ }:}{5}
			{,end}{\lstbasicfont ,end}{4}
			{,{ }end}{\lstbasicfont ,{ }end}{5}
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Enviroment
\lstnewenvironment{matlabcode}[2][]
{\lstset{style=Matlab, numbers=none, frame=single, rulecolor=\color{framecolor}, framesep=5pt, frameround=tttt, caption=#1, label={#2}}
}
{}
%%%%%%% Box
\lstnewenvironment{matlabbox}
{\lstset{style=Matlab, numbers=none, frame=single, rulecolor=\color{framecolor}, framesep=5pt, frameround=tttt}
\vspace{.7\baselineskip}
}
{}
%%%%%%% Inline command
\newcommand{\mcode}[1]{\lstinline[style=Matlab,basicstyle=\fontfamily{pcr}\selectfont\footnotesize,numbers=none]|#1|}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Configurations for Fortran
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Colors for the emph
\definecolor{Fblue}{RGB}{0,25,153}				% Fortran functions
\definecolor{Fdred}{RGB}{83,0,0}			  	% Strings
\definecolor{Fgreen}{rgb}{.133,.545,.133}	% Comments
\definecolor{mblue}{RGB}{0,0,59}					% General math											
\definecolor{dorag}{RGB}{180,75,0}				% Called functions
\definecolor{lgreen}{RGB}{7,70,0}					% Local functions
\definecolor{eblue}{RGB}{0,85,85}					% External functions
\definecolor{byellow}{RGB}{250,100,0}			% Boolean functions, True, False
\definecolor{pred}{RGB}{191,15,15}				% Parallelization related
\definecolor{opurple}{RGB}{45,0,100}			% Other important
\definecolor{fpink}{RGB}{228,2,140}				% DLL compiling related
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinelanguage{WFortran}[95]{Fortran}%
  {morekeywords={ONLY, TRIM, AIMAG, MOD, nml},						% More Fortran keywords
	 morestring=[d]{'}, 																		% String
	 morecomment=[l]{!\ },																	% Comments
	 morecomment=[l][\color{pred}\bfseries]{\!\$omp}, 			% To use OpenMP parallelization
	 morecomment=[l][\color{fpink}]{\! DEC\$},							% DLL compiling related
	 sensitive=false,
	}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinestyle{Fortran}
	{language=WFortran,
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%% Probably you want to add some functions here
	%%%%%%%%%%%%%%%%%%%%%%%%
	emph={sin,cos,abs,square,root,ci,exp,nint,int,cmplx},	% General math
	emphstyle=\color{mblue}\bfseries,
	%
	emph={[2] pi\_d,arth,cbesmr,etime},										% Called functions
	emphstyle={[2]\color{dorag}\bfseries},
	%
	emph={[3] besquot, num2str, numR2str, whichcores}, 		% Local functions
	emphstyle={[3]\color{lgreen}\bfseries},
	%
	emph={[4] nrtype, nrutil, bessels},										% External functions
	emphstyle={[4]\color{eblue}\bfseries},
	%
	emph={[5] true,false},																% Boolean functions, True, False
	emphstyle={[5]\color{byellow}\bfseries},
	%
	emph={[6] section, NUM_THREADS, omp_get_thread_num, omp_get_num_procs, OMP_set_dynamic, omp_lib, parallel, shared, firstprivate},	% Parallelization related
	emphstyle={[6]\color{pred}\bfseries},
	%
	emph={[7]  CylinderPn},																% Main program or subroutine
	emphstyle={[7]\color{black}\bfseries},
	%
	emph={[8]  inputPn, MicGeo, error, uit},							% Other important
	emphstyle={[8]\color{opurple}\bfseries},
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%% Configurations
	basicstyle=\lstbasicfont,																							  % Basic font
	 stringstyle=\color{Fdred}\ttfamily,																			% String style
   keywordstyle=\color{Fblue}\bfseries, 																		% Keyword style
   commentstyle=\commentfont, 																							% Comment style
	 identifierstyle=\color{black},
	columns=flexible,
	linewidth=1.0\linewidth,
	xleftmargin=0pt,
	xrightmargin=1pt,
   numbers=left,
   numberstyle={\tiny},
	upquote=true,																														% upright quotes
	breaklines=true, 																												% For breaking lines
	 prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rhookswarrow}},					% For breaking lines
	 postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rcurvearrowse\space}},	% For breaking lines
	 breakatwhitespace=false,																								% For breaking lines
	showstringspaces=true,																									% Show space only in strings
	aboveskip={0.025\baselineskip},			
} 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Enviroment
\lstnewenvironment{fortrancode}[2][]
{\lstset{style=Fortran, numbers=none, frame=single, rulecolor=\color{framecolor}, framesep=5pt, frameround=tttt, caption=#1, label={#2}}
}
{}
%%%%%%% Box
\lstnewenvironment{fortranbox}
{\lstset{style=Fortran, numbers=none, frame=single, rulecolor=\color{framecolor}, framesep=5pt, frameround=tttt}
\vspace{.7\baselineskip}
}
{}
%%%%%%% Inline command
\newcommand{\fcode}[1]{\lstinline[style=Fortran,basicstyle=\fontfamily{pcr}\selectfont\footnotesize,numbers=none]|#1|}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Configurations for Latex
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Colors
\definecolor{llblue}{RGB}{165,127,217}
\definecolor{lred}{RGB}{130,0,4}
\definecolor{mathgreen}{RGB}{0,60,25}
\definecolor{numpurple}{RGB}{95,10,190}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinelanguage{WLatex}[LaTeX]{TeX}%
  {morekeywords={pdfinfo, author, title, shorttitle,shortauthor, pdfdate, page, backref},
	 morecomment=[s][\color{mathgreen}]{\$}{\$}, ,	% Math mode in green
	}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinestyle{Latex}
	{language=WLatex,																% use our version of highlighting
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% Probably you want to add some functions here
	%%%%%%%%%%%%%%%%%%%%%%%%
	emph={xcolor, MnSymbol, textcomp, listings, Codes2Latex, float, subfigure, subfigura, figura, Fig, figuras, fign, secao, tabela, capitulo, pagina, equacao, equacoes, Eq, eqn, codigo, codigos, code, codes},								
	emphstyle=\color{mblue}\bfseries,								% Packages
	%
	emph={[2] commentfont},
	emphstyle={[2]\color{mblue}},										% Commands
	%
	emph={[3] WMatlab, WFortran, WLatex, WLabview, nomeclpeq, nomecleq, nomeclp, nomecl, nomenclatura, nomecl_br_will, ttcCode},
	emphstyle={[3]\color{lgreen}\bfseries},					% 
	%
	emph={[4] definecolor, RGB, rgb, textquotesingle, color, textcolor
	lstdefinestyle, lstdefinelanguage, lstbasicfont, lstinline, lstname, emph, pcr},										
	emphstyle={[4]\color[rgb]{0,0,1}},							% Packages commands
	%
	emph={[5] fcode, fortrancode, fortranbox, mcode, matlabcode, matlabbox, 
	lcode, latexcode, latexbox, ttc, ttccode, ttcbox, 
	lbcode, fmtnum, inputcode},
	emphstyle={[5]\color{mblue}\bfseries},					% New commands
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%% Configurations
	basicstyle=\lstbasicfont,                      % use font and smaller size
	 keywordstyle=\color{blue},									  	% keywords
	 commentstyle=\color{gray!95}\itshape,					% comments
	 stringstyle=\color[rgb]{0.627,0.126,0.941},    % strings
	 identifierstyle=\color{black},
 	showstringspaces=false,													% do not emphasize spaces in strings
	tabsize=2,																			% number of spaces of a TAB
	upquote=true,																		% upright quotes
	aboveskip={0.05\baselineskip},									% space above
	columns=flexible,																% nice spacing
	numbers=left,
  numberstyle={\tiny},
	upquote=true,										  							% upright quotes
	breaklines=true, 																										  	% For breaking lines
	 prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rhookswarrow}},					% For breaking lines
	 postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rcurvearrowse\space}},	% For breaking lines
	 breakatwhitespace=false,																								% For breaking lines
  backgroundcolor=,%
	%%%%%%%
   texcsstyle=*\color{blue}\bfseries,%
	%%%%%%% Add LaTeX standard commands here
   texcs={end,begin,documentclass, graphicspath, def, fi, ifx,
	 RequirePackage, undefined, ifx, fi, baselineskip, def, fontfamily, selectfont, footnotesize, fontsize, RequirePackage, ProvidesPackage,
	 bfseries, ttfamily, ensuremath, baselineskip, raisebox, itshape, tiny, newcommand, linewidth, usepackage, makenomenclature,
	 bibliographystyle, bibliography, label, subfloat, mbox, colorbox, caption, centering, quad, qquad, includegraphics, cite, renewcommand, input
	 },%
	%%%%%%%
        literate=
				 {= }{\textcolor{lred}{=}}1
			   {\{ }{\textcolor{llblue}{\{}}1
         {\}}{\textcolor{llblue}{\}}}1
         {[}{\textcolor{lred}{[}}1     
         {]}{\textcolor{lred}{]}}1
				 %{\textbackslash{}\%}{\textcolor{black}{\%}}2
				     {0}{\textcolor{numpurple}{0}}{1}%
             {1}{\textcolor{numpurple}{1}}{1}%
             {2}{\textcolor{numpurple}{2}}{1}%
             {3}{\textcolor{numpurple}{3}}{1}%
             {4}{\textcolor{numpurple}{4}}{1}%
             {5}{\textcolor{numpurple}{5}}{1}%
             {6}{\textcolor{numpurple}{6}}{1}%
             {7}{\textcolor{numpurple}{7}}{1}%
             {8}{\textcolor{numpurple}{8}}{1}%
             {9}{\textcolor{numpurple}{9}}{1}%
             {.0}{\textcolor{numpurple}{.0}}{1}% Following is to ensure that only periods
             {.1}{\textcolor{numpurple}{.1}}{1}% followed by a digit are changed.
             {.2}{\textcolor{numpurple}{.2}}{1}%
             {.3}{\textcolor{numpurple}{.3}}{1}%
             {.4}{\textcolor{numpurple}{.4}}{1}%
             {.5}{\textcolor{numpurple}{.5}}{1}%
             {.6}{\textcolor{numpurple}{.6}}{1}%
             {.7}{\textcolor{numpurple}{.7}}{1}%
             {.8}{\textcolor{numpurple}{.8}}{1}%
             {.9}{\textcolor{numpurple}{.9}}{1}%
             %{,}{\textcolor{numpurple},}{1}% depends if you want the "," in color
             {\ }{ }{1}% handle the space
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% fillcolor=\color[RGB]{235,228,255}
%%%%%%% Enviroment
\lstnewenvironment{latexcode}[2][]
{
\vspace{3mm}
\lstset{style=Latex, numbers=none, frame=single, rulecolor=\color{framecolor}, framesep=5pt, frameround=tttt, caption={#1}, label={#2}}
}
{}
%%%%%%% Enviroment
\lstnewenvironment{latexbox}
{
\lstset{style=Latex, numbers=none, frame=single, rulecolor=\color{framecolor}, framesep=5pt, frameround=tttt}
\vspace{.7\baselineskip}
}
{}
%%%%%%% Inline command
\newcommand{\lcode}[1]{\lstinline[style=Latex,basicstyle=\fontfamily{pcr}\selectfont\footnotesize,numbers=none]{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Configurations for Numbers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Colors
\definecolor{numblue}{RGB}{27,64,203}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinestyle{fmtnumb}{%
    literate={0}{\textcolor{numblue}{0}}{1}%
             {1}{\textcolor{numblue}{1}}{1}%
             {2}{\textcolor{numblue}{2}}{1}%
             {3}{\textcolor{numblue}{3}}{1}%
             {4}{\textcolor{numblue}{4}}{1}%
             {5}{\textcolor{numblue}{5}}{1}%
             {6}{\textcolor{numblue}{6}}{1}%
             {7}{\textcolor{numblue}{7}}{1}%
             {8}{\textcolor{numblue}{8}}{1}%
             {9}{\textcolor{numblue}{9}}{1}%
             {.0}{\textcolor{numblue}{.0}}{1}% Following is to ensure that only periods
             {.1}{\textcolor{numblue}{.1}}{1}% followed by a digit are changed.
             {.2}{\textcolor{numblue}{.2}}{1}%
             {.3}{\textcolor{numblue}{.3}}{1}%
             {.4}{\textcolor{numblue}{.4}}{1}%
             {.5}{\textcolor{numblue}{.5}}{1}%
             {.6}{\textcolor{numblue}{.6}}{1}%
             {.7}{\textcolor{numblue}{.7}}{1}%
             {.8}{\textcolor{numblue}{.8}}{1}%
             {.9}{\textcolor{numblue}{.9}}{1}%
             %{,}{\textcolor{numblue},}{1}% depends if you want the "," in color
             {\ }{ }{1}% handle the space
}
%%%%%%% Inline command
\newcommand{\fmtnum}[1]{\lstinline[style=fmtnumb]{#1}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Configurations for ttcCode
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinelanguage{ttcCode}{%
  alsoletter={\\,...},%
  morekeywords={%																  	% keywords
  date, time},%
  comment=$$,     																	% comments
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinestyle{ttcCode}
	{											
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	    basicstyle=\ttfamily,
		frame=single,
    numbers=none,
    backgroundcolor=\color{lightgray!15},
    rulecolor=\color{framecolor}, 
		framesep=5pt, 
		frameround=tttt, 
		breaklines=true, 																										      	% For breaking lines
	      prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rhookswarrow}},					% For breaking lines
	      postbreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\rcurvearrowse\space}},	% For breaking lines
	      breakatwhitespace=false,	
 	showstringspaces=false,													% do not emphasize spaces in strings
	tabsize=2,																			% number of spaces of a TAB
	upquote=true,																		% upright quotes
	aboveskip={0.05\baselineskip},									% space above
	columns=flexible,																% nice spacing
	numbers=left,
  numberstyle={\tiny},
	upquote=true
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Enviroment
\lstnewenvironment{ttccode}[3][\@]
{\lstset{style=ttcCode, caption={#1}, label={#2}, escapechar={#3}}
}
{}
%%%%%%% Box
\lstnewenvironment{ttccodebox}
{\lstset{style=ttcCode}
\vspace{.7\baselineskip}
}
{}
%%%%%%% Inline command
\newcommand{\ttc}[1]{\lstinline[style=ttcCode,backgroundcolor=]{#1}} % Uso \ttc{}
\newcommand{\ttcb}[1]{\ttfamily #1\normalfont} % Uso \ttc{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Configurations for Labview
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Labview Colors
\definecolor{lvblue}{RGB}{0,0,255} \definecolor{lvorange}{RGB}{255,102,0}
\definecolor{lvstring}{RGB}{255,0,255} \definecolor{lvgreen}{RGB}{8,120,8}
\definecolor{lvpath}{RGB}{0,102,102}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstdefinelanguage{WLabview}%
  {morekeywords={},
	 basicstyle=\lstbasicfont,																							  % Basic font
	columns=flexible,
	abovecaptionskip=0.2cm,
	belowcaptionskip=0.6cm,
	linewidth=1.0\linewidth,
	xleftmargin=0pt,
	xrightmargin=0pt,
  numbers=none,
	showstringspaces=true,			
	aboveskip={0.025\baselineskip},			
	}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%% Enviroments
%%%%%%%%%%%%%%%%%%%%%%%%%% Labview Code
\lstnewenvironment{labviewcode}[2][]
{
\lstset{language=WLabview, caption=#1, label={#2}}
\begin{figure}[H]
}
{
\end{figure}
}
%%%%%%%%%%%%%%%%%%%%%%%%%% Labview Pane
\lstnewenvironment{labviewpane}[2][]
{
\lstset{language=WLabview, caption=#1 Connection Pane, label={#2}}
\begin{figure}[H]
}
{
\end{figure}
}
%%%%%%%%%%%%%%%%%%%%%%%%%% Labview Front Panel
\lstnewenvironment{labviewfront}[2][]
{
\lstset{language=WLabview, caption=#1 Front Panel, label={#2}}
\begin{figure}[H]
}
{
\end{figure}
}
%%%%%%%%%%%%%%%%%%%%%%%%%% Labview Pane + Code
\lstnewenvironment{labviewfull}[2][]
{
\lstset{language=WLabview, caption={#1}, label={#2}}
\setcounter{subfigure}{0}
\begin{figure}[H]
}
{
%\caption{}
\end{figure}
}

%%%%%%% Inline data type commands
%%% Text with Data Type color
\newcommand{\lbcode}[2]{\textcolor{#1}{#2}}
\newcommand{\lbimg}[1]{\raisebox{-.2ex}{\mbox{\includegraphics[height=13px,page=#1]{Codes2Latex.pdf}}}\xspace} 
%%% Numeric Data Types
\newcommand{\lbdbl}{\raisebox{-.2ex}{\mbox{\includegraphics[height=13px]{Codes2LatexAux/cdbl.png}}}\xspace}
\newcommand{\lbci}{\raisebox{-.2ex}{\mbox{\includegraphics[height=13px]{Codes2LatexAux/ci32.png}}}\xspace}
%%% String Data Type
\newcommand{\lbstring}{\raisebox{-.2ex}{\mbox{\includegraphics[height=13px]{Codes2LatexAux/string_data_type.png}}}\xspace}
%%% Boolean Data Type
\newcommand{\lbboo}{\raisebox{-.2ex}{\mbox{\includegraphics[height=13px]{Codes2LatexAux/boolean_data_type.png}}}\xspace}
%%% Path Data Type
\newcommand{\lbpath}{\raisebox{-.2ex}{\mbox{\includegraphics[height=13px]{Codes2LatexAux/cpath.png}}}\xspace}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% one can use \ContinuedFloat for continuing the subfloat count
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstset{
			mathescape=false,																										% To use $ in the code
			escapechar={\@},	    																							% escape to latex with 
			}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

